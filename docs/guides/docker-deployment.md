# Docker и деплой

VLMHyperBench использует Docker для обеспечения изоляции и воспроизводимости.

## 1. Базовые образы

В папке `docker/` находятся основные Dockerfiles:
*   `Dockerfile-uv`: Универсальный образ с предустановленным `uv`.
*   `Dockerfile-cu124`: Образ с CUDA 12.4.

## 2. Сборка образов

Вы можете собрать образ локально для тестирования:

```bash
docker build -f docker/Dockerfile-uv \
  --target dev \
  --build-arg TORCH_BACKEND=cu124 \
  -t vlmhyperbench:dev-cu124 .
```

## 3. Использование в Orchestrator

Оркестратор автоматически проверяет наличие необходимых образов локально и пытается скачать их из Registry, если они указаны в `vlm_base.csv`.

## 4. Монтирование данных

При запуске контейнеров Оркестратор монтирует следующие директории:
*   `/data`: Датасеты и промпты.
*   `/workspace/answers`: Для сохранения результатов инференса.
*   `/workspace/metrics`: Для результатов оценки.